################
### MONITORS ###
################

# monitor=,preferred,auto,auto
monitor = eDP-1, highres@highrr, 0x0, 1.3333334
monitor = HDMI-A-2, highres@highrr, 0x-1080, 1

###################
### EXECUTABLES ###
###################

$terminal = foot
$launcher = rofi -show drun
$browser = firefox
$scripts = /home/frigyes/scripts

#################
### AUTOSTART ###
#################

exec-once = waybar & hyprpaper & dunst & hypridle
exec-once = systemctl --user start hyprpolkitagent
exec-once = $scripts/battery_notify.sh
exec-once = wl-paste --watch cliphist store
exec-once = wl-paste --watch cliphist store

#############################
### ENVIRONMENT VARIABLES ###
#############################

env = XCURSOR_SIZE,24
env = HYPRCURSOR_theme,capitaine
env = HYPRCURSOR_SIZE,24

###################
### PERMISSIONS ###
###################

# ecosystem {
#   enforce_permissions = 1
# }

# permission = /usr/(bin|local/bin)/grim, screencopy, allow
# permission = /usr/(lib|libexec|lib64)/xdg-desktop-portal-hyprland, screencopy, allow
# permission = /usr/(bin|local/bin)/hyprpm, plugin, allow


#####################
### LOOK AND FEEL ###
#####################

general {
    gaps_in = 3
    gaps_out = 6,6,6,6

    border_size = 1

    # col.active_border = rgba(33ccffee) rgba(00ff99ee) 45deg
    # col.active_border = rgba(eeeeee55)
    # col.inactive_border = rgba(eeeeee33)
    col.active_border = rgba(eeeeee33)
    col.inactive_border = rgba(eeeeee00)

    resize_on_border = true
    allow_tearing = false
    layout = dwindle
    # layout = master
}

decoration {
    # rounding = 3
    # rounding_power = 2

    rounding = 0

    active_opacity = 1.0
    # inactive_opacity = 0.6
    inactive_opacity = 1.0

    shadow {
        enabled = false
        range = 4
        render_power = 3
        color = rgba(1a1a1aee)
    }

    blur {
        enabled = true

        size   = 3
        passes = 2
        # size   = 4
        # passes = 3

        vibrancy = 0.1696
        brightness = 0.7
    }
}

animations {
    enabled = yes

    #        NAME,           X0,   Y0,   X1,   Y1
    bezier = easeOutQuint,   0.23, 1,    0.32, 1
    bezier = easeInOutCubic, 0.65, 0.05, 0.36, 1
    bezier = linear,         0,    0,    1,    1
    bezier = almostLinear,   0.5,  0.5,  0.75, 1
    bezier = quick,          0.15, 0,    0.1,  1
    bezier = snappy,         0.05, 0.9,  0.1,  1 # starts fast, lands soft

    #           NAME,             ONOFF, SPEED, CURVE,  [STYLE]
    animation = windows,          1,     2,     snappy, popin 80%
    animation = windowsMove,      1,     2.25,  snappy
    animation = workspaces,       1,     1.5,   snappy, fade
    animation = specialWorkspace, 1,     1.5,   snappy, slidevert
    animation = fade,             1,     2,     snappy

    # animation = global,        1,     10,    default
    # animation = border,        1,     5.39,  easeOutQuint
    # animation = windows,       1,     3,     easeOutQuint
    # animation = windows,       1,     2,     easeOutQuint
    # animation = windowsIn,     1,     3,     easeOutQuint, popin 87%
    # animation = windowsIn,     1,     2,     easeOutQuint, popin 87%
    # animation = windowsOut,    1,     1.49,  linear,       popin 87%
    # animation = windowsOut,    1,     1,     linear,       popin 87%
    # animation = fadeIn,        1,     1.73,  almostLinear
    # animation = fadeOut,       1,     1.46,  almostLinear
    # animation = fade,          1,     3.03,  quick
    # animation = layers,        1,     3.81,  easeOutQuint
    # animation = layersIn,      1,     4,     easeOutQuint, fade
    # animation = layersOut,     1,     1.5,   linear,       fade
    # animation = fadeLayersIn,  1,     1.79,  almostLinear
    # animation = fadeLayersOut, 1,     1.39,  almostLinear
    # animation = workspaces,    1,     1.94,  almostLinear, fade
    # animation = workspacesIn,  1,     1.21,  almostLinear, fade
    # animation = workspacesOut, 1,     1.94,  almostLinear, fade
    # animation = zoomFactor,    1,     7,     quick
}

# Smart gaps
# workspace = w[tv1], gapsout:0, gapsin:0
# workspace = f[1], gapsout:0, gapsin:0
# windowrule = border_size 0, match:float 0, match:workspace w[tv1]
# windowrule = rounding 0, match:float 0, match:workspace w[tv1]
# windowrule = border_size 0, match:float 0, match:workspace f[1]
# windowrule = rounding 0, match:float 0, match:workspace f[1]

dwindle {
    pseudotile = true
    preserve_split = true
}

master {
    new_status = master
}

misc {
    force_default_wallpaper = 0 # Set to 0 or 1 to disable the anime mascot wallpapers
    disable_hyprland_logo = true # If true disables the random hyprland logo / anime girl background. :(
}


#############
### INPUT ###
#############

input {
    kb_layout = hu
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =
    kb_options = caps:swapescape

    follow_mouse = 1

    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.

    repeat_delay = 550
    repeat_rate = 40

    touchpad {
        natural_scroll = true
    }
}

gesture = 3, horizontal, workspace

###################
### KEYBINDINGS ###
###################


# Window launching, management and quitting.
bind = SUPER, Q, exec, $terminal
bind = SUPER, SPACE, exec, $launcher
bind = SUPER, F, exec, $browser
bind = SUPER, A, exec, $scripts/scripts.sh
bind = SUPER, N, exec, $scripts/notes/notes.sh
bind = SUPER, C, killactive,
bind = SUPER, V, togglefloating,
bind = SUPER, P, pseudo, # dwindle
bind = SUPER, O, togglesplit, # dwindle
bind = SUPER SHIFT, F, fullscreen, 0

# Moving focus and windows
bind = SUPER, H, movefocus, l
bind = SUPER, L, movefocus, r
bind = SUPER, K, movefocus, u
bind = SUPER, J, movefocus, d
bind = SUPER SHIFT, h, movewindow, l
bind = SUPER SHIFT, l, movewindow, r
bind = SUPER SHIFT, k, movewindow, u
bind = SUPER SHIFT, j, movewindow, d
bind = SUPER CTRL, h, resizeactive, -10 0
bind = SUPER CTRL, l, resizeactive, 10 0
bind = SUPER CTRL, k, resizeactive, 0 -10
bind = SUPER CTRL, j, resizeactive, 0 10
bind = SUPER SHIFT ALT, j, movecurrentworkspacetomonitor, -1
bind = SUPER SHIFT ALT, k, movecurrentworkspacetomonitor, +1

bind = SUPER, g, togglegroup
bind = ALT, Tab, changegroupactive 

# Workspaces
bind = SUPER, 0, workspace, name:::
bind = SUPER, 1, workspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER, 4, workspace, 4
bind = SUPER, 5, workspace, 5
bind = SUPER, 6, workspace, 6
bind = SUPER, 7, workspace, 7
bind = SUPER, 8, workspace, 8
bind = SUPER, 9, workspace, 9
bind = SUPER SHIFT, 0, movetoworkspace, ::
bind = SUPER SHIFT, 1, movetoworkspace, 1
bind = SUPER SHIFT, 2, movetoworkspace, 2
bind = SUPER SHIFT, 3, movetoworkspace, 3
bind = SUPER SHIFT, 4, movetoworkspace, 4
bind = SUPER SHIFT, 5, movetoworkspace, 5
bind = SUPER SHIFT, 6, movetoworkspace, 6
bind = SUPER SHIFT, 7, movetoworkspace, 7
bind = SUPER SHIFT, 8, movetoworkspace, 8
bind = SUPER SHIFT, 9, movetoworkspace, 9

# Scratchpad
bind = SUPER, S, togglespecialworkspace, magic
bind = SUPER SHIFT, S, movetoworkspace, special:magic

bind = SUPER, TAB, workspace, e+1
bind = SUPER SHIFT, TAB, workspace, e-1

bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow

bindel = ,XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
bindel = ,XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = ,XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = ,XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindel = ,XF86MonBrightnessUp, exec, brightnessctl -e4 -n2 set 5%+
bindel = ,XF86MonBrightnessDown, exec, brightnessctl -e4 -n2 set 5%-

bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous

bind = , Print, exec, grim -g "$(slurp -d)" - | wl-copy
bind = SHIFT, Print, exec, grim - | wl-copy
bind = CTRL, Print, exec, mkdir -p ~/images/screenshots && grim -g "$(slurp -d)" ~/images/screenshots/$(date +%Y-%m-%d_%H-%M-%S).png
bind = CTRL SHIFT, Print, exec, mkdir -p ~/images/screenshots && grim ~/images/screenshots/$(date +%Y-%m-%d_%H-%M-%S).png

bind = SUPER SHIFT, p, exec, hyprpicker -a

##############################
### WINDOWS AND WORKSPACES ###
##############################

layerrule = match:title rofi, blur 1
layerrule = match:title waybar, blur 1

windowrule = suppress_event maximize, match:class .*

# Fix some dragging issues with XWayland
# windowrule = no_focus 1,match:class ^$,match:title ^$,xwayland:1,floating:1,fullscreen:0,pinned:0

xwayland {
  use_nearest_neighbor = false
  force_zero_scaling = true
}

##############################

source = ~/.config/hypremoji/hypremoji.conf
