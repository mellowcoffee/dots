### GENERAL SETTINGS ###

set-option -g default-shell /usr/bin/zsh

# remap prefix from 'c-b' to 'c-a'
unbind c-b
set -g prefix c-a
bind c-a send-prefix

set -g base-index 0
set -g pane-base-index 0
set-window-option -g pane-base-index 0
set-option -g renumber-windows on

# performance optimizations for neovim
set -sg escape-time 0
set -g focus-events on
set -g history-limit 50000

# enable mouse support
set -g mouse on

# reload config file
bind r source-file ~/.config/tmux/tmux.conf \; display "config reloaded"

### NAVIGATION & PANES ###

# split panes using | and -
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
unbind '"'
unbind %

# vim-like pane switching
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# resize panes
bind -r h resize-pane -L 5
bind -r j resize-pane -D 5
bind -r k resize-pane -U 5
bind -r l resize-pane -R 5

### VISUAL AESTHETICS ###

# support true color
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"

# status bar position and update rate
set -g status on
set -g status-position bottom
set -g status-interval 5

# monochrome/muted color palette
# background: dark gray (235)
# foreground: light gray (250)
set -g status-style bg=colour235,fg=colour250

# pane borders (subtle)
set -g pane-border-style fg=colour240
set -g pane-active-border-style fg=colour250

### STATUSLINE CONFIGURATION ###

# remove left status length restriction
set -g status-left-length 100
set -g status-right-length 100

# left side: session name
# style: dark gray background, white text, powerline separator
set -g status-left "#[fg=colour235,bg=colour246,bold] #S #[fg=colour246,bg=colour235,nobold] "

# window status (inactive)
# style: muted gray, standard format
set -g window-status-format "#[fg=colour250,bg=colour235] #I: #W "

# window status (current)
# style: slightly lighter gray background, bold text
set -g window-status-current-format "#[fg=colour235,bg=colour238]#[fg=colour255,bg=colour238] #I: #W #[fg=colour238,bg=colour235]"

# right side: date, time, battery placeholder
# note: battery info requires external script or 'tmux-battery' plugin
# current config uses date and time for absolute stability
set -g status-right "#[fg=colour238,bg=colour235]#[fg=colour255,bg=colour238] %d %b  %H:%M #[fg=colour246,bg=colour238]#[fg=colour235,bg=colour246,bold] #h "

### PROMPT & MODE STYLING ###

# command line/message style
# matches active window segment
set -g message-style bg=colour235,fg=colour255

# command prompt style (vi-mode, etc)
set -g message-command-style bg=colour235,fg=colour255

# mode style (copy mode selection)
# distinct but consistent: reversed active colors
set -g mode-style bg=colour250,fg=colour235

### PLUGINS ###

# list of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

# initialize tpm (keep this line at the very bottom of tmux.conf)
run '~/.config/tmux/plugins/tpm/tpm'
